{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _taggedTemplateLiteral from \"C:/tokpedproject1/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n\\t\\tmargin: 3px 6px 6px 6px;\\n        font-size: 14px;\\n\\t\\tcolor: black;\\n\\t\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  \\t\\tpadding: 16px 25px;\\n\\t\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Link from 'next/link';\nimport { css } from '@emotion/css';\nimport Head from '../components/head';\nimport Header from '../components/header';\nimport InfiniteScroll from 'react-infinite-scroll-component';\n\nvar pokemonConfig = require('../config');\n\nvar PokemonListPage = function PokemonListPage(props) {\n  var _useState = useState([]),\n      pokemonlist = _useState[0],\n      setPokemonList = _useState[1];\n\n  var _useState2 = useState(false),\n      emptypokemon = _useState2[0],\n      setIsEmptyPokemon = _useState2[1];\n\n  var _useState3 = useState(20),\n      limit = _useState3[0],\n      setLimit = _useState3[1];\n\n  var _useState4 = useState(0),\n      offset = _useState4[0],\n      setOffset = _useState4[1];\n\n  var _useState5 = useState(true),\n      hasMoreItems = _useState5[0],\n      setHasMoreItems = _useState5[1]; //Styles\n\n\n  var listpokemon = css(_templateObject());\n  var textcard = css(_templateObject2());\n  useEffect(function () {\n    getRefresh();\n  }, []);\n\n  function getRefresh() {\n    axios({\n      url: pokemonConfig.BASE_URL + '/api/getlistpokemon',\n      method: 'POST',\n      data: {\n        limit: limit,\n        offset: offset\n      },\n      timeout: pokemonConfig.TIMEOUT\n    }).then(function (response) {\n      if (response.data.code == '200') {\n        setPokemonList(response.data.data.results);\n\n        if (response.data.data.next != null) {\n          setOffset(1);\n          setHasMoreItems(response.data.data.results.length > 4 ? true : false);\n        }\n      } else {\n        setIsEmptyPokemon(true);\n      }\n    });\n  }\n\n  function getHandleLoadMore() {\n    axios({\n      url: pokemonConfig.BASE_URL + '/api/getlistpokemon',\n      method: 'POST',\n      data: {\n        limit: limit,\n        offset: offset\n      },\n      timeout: pokemonConfig.TIMEOUT\n    }).then(function (response) {\n      if (response.data.code == '200') {\n        var lists = pokemonlist.concat(response.data.data.results);\n        setPokemonList(lists);\n        setOffset(offset + 1);\n      } else {\n        setIsEmptyPokemon(true);\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxs(React.Fragment, {\n    children: [/*#__PURE__*/_jsx(Head, {}), /*#__PURE__*/_jsx(Header, {}), /*#__PURE__*/_jsx(\"div\", {\n      className: listpokemon,\n      children: /*#__PURE__*/_jsx(InfiniteScroll, {\n        dataLength: pokemonlist,\n        next: getHandleLoadMore,\n        hasMore: hasMoreItems,\n        loader: /*#__PURE__*/_jsx(\"h6\", {\n          children: \"Loading...\"\n        }),\n        endMessage: /*#__PURE__*/_jsx(\"div\", {\n          className: \"alert alert-light text-center small\",\n          children: \"Semua data telah ditampilkan\"\n        }),\n        refreshFunction: getRefresh,\n        pullDownToRefresh: true,\n        pullDownToRefreshContent: /*#__PURE__*/_jsx(\"div\", {\n          className: \"alert alert-light text-center small\",\n          children: \"\\u2193 Pull down to refresh\"\n        }),\n        releaseToRefreshContent: /*#__PURE__*/_jsx(\"div\", {\n          className: \"alert alert-light text-center small\",\n          children: \"\\u2191 Release to refresh\"\n        }),\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"row\",\n          children: pokemonlist.map(function (data, i) {\n            return /*#__PURE__*/_jsx(\"div\", {\n              className: \"col-6 mb-3\",\n              children: /*#__PURE__*/_jsx(Link, {\n                href: \"/pokemondetail?name=\" + data.name,\n                as: \"/pokemondetail?name=\" + data.name,\n                passHref: true,\n                children: /*#__PURE__*/_jsxs(\"a\", {\n                  className: \"card\",\n                  children: [/*#__PURE__*/_jsx(\"img\", {\n                    className: \"border-bottom p-2\",\n                    src: data.image\n                  }), /*#__PURE__*/_jsx(\"span\", {\n                    className: textcard,\n                    children: data.name\n                  }), /*#__PURE__*/_jsx(\"span\", {\n                    className: textcard,\n                    children: data.type\n                  })]\n                })\n              })\n            }, i);\n          })\n        })\n      })\n    })]\n  });\n};\n\nexport default PokemonListPage;","map":null,"metadata":{},"sourceType":"module"}